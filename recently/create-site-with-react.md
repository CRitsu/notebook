# 用 React 做一个图片博客

最近被委托做一个图片博客的页面，刚好借此机会实践一下 React。

这里记录一下遇到的问题和解决方法。

# 需求

目标是做一个展示图文的博客网页。

分为项目设计和单独的作品展示两个模块。

项目设计是文章形式，图文介绍项目内容和成果。

单独的作品展示分为手绘作品和 PS&AI 作品两栏，这一类是图片配一句简短的描述的形式。

结构简单，可以做成一个 SPA。

# 开发环境

开发工具使用 VSCode。

主要使用的库大致如下。

React 系列，可能用到 Redux，但是规模较小也可能不用。

Router 文章页面路由。

Lodash 工具集。

Flow.js 类型检查。

Eslint 检查错误用。

# 遇到的问题

**Eslint 初始化问题。**

我首先导入了 Flow.js 写了一个祖宗组件，后来想起来 eslint 还没初始化，于是执行 `eslint --init` 进行初始化，但是屡试屡败。

报错内容定位到 Flow 的一个类型检查使用的语法不通过。

折腾了一宿，最后一气之下复制了原来的项目的一个配置文件进来使用了。

后来经过调查，发现了原因所在。

之前定位的问题没错，就出在 Flow 上了。

先说结果。

初始化 eslint 若选择检查代码，则需要先移除 Flow 的类型检查语法，否则就会报上文提到的检查不通过的错。

由于我每次初始化 eslint 都会选择第三个选项，检查 JS 代码，这样在初始化的过程中会做一次代码 check，这时如果不通过，eslint 初始化会不成功，配置文件不会自动生成。

总结，项目开始的时候就先把 eslint 配置文件初始化好吧。

# 轮播式 Banner

这个图文站有一个需求。

有多个 Banner 需要轮播横行滚动。

这个需求在常规操作 DOM 的页面上挺好实现的，但是 React 从设计上避免我们直接操作 DOM，这让这个需求变得有些不好实现了。

用 Transition 可以做到平滑的移动，但是对于点击事件我们只能操作 State 的数据来控制组件的表示，这对于控制 Banner 轮播来说缺少了一些灵活性。

我们至少要做到间隔一定时间滚动一次 Banner，还要做到点击 Banner 的面包屑可以切换到相应的 Banner。

这里可能要用上动画组件了。

（解决中）

